
///////////////////////////////////////////////////////////////////////////////
// Header guard
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "AComponent.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace nts::Sequencials
///////////////////////////////////////////////////////////////////////////////
namespace nts::Sequencials
{

///////////////////////////////////////////////////////////////////////////////
/// \brief Johnson Decade Counter
///////////////////////////////////////////////////////////////////////////////
class Counter : public AComponent
{
private:
    ///////////////////////////////////////////////////////////////////////////
    // Private properties
    ///////////////////////////////////////////////////////////////////////////
    size_t m_count;            //< Counter value
    Tristate m_lastClock;       //< Last clock state

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Constructor
    ///
    /// \param name Component name
    ///////////////////////////////////////////////////////////////////////////
    Counter(const std::string& name);

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief Simulate function
    ///
    /// \param tick Simulation tick
    ///////////////////////////////////////////////////////////////////////////
    void simulate(size_t tick) override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Compute function
    ///
    /// \param pin Pin number
    /// \return Tristate logic value
    ///////////////////////////////////////////////////////////////////////////
    Tristate compute(size_t pin) override;
};

} // namespace nts::Sequencials

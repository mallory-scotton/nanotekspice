///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Not.hpp"
#include "Errors/OutOfRangePinException.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace nts::Gates
///////////////////////////////////////////////////////////////////////////////
namespace nts::Gates
{

///////////////////////////////////////////////////////////////////////////////
Not::Not(const std::string& name)
    : AComponent(name, 2)
{
    m_pins[0] = Pin(Pin::Type::INPUT);
    m_pins[1] = Pin(Pin::Type::OUTPUT);
}

///////////////////////////////////////////////////////////////////////////////
Tristate Not::compute(size_t pin)
{
    if (pin >= m_pins.size())
        throw OutOfRangePinException();
    if (pin == 1)
        return (~(getInputState(0)));
    return (getInputState(pin));
}

} // namespace nts::Gates

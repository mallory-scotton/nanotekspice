///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Nor.hpp"
#include "Errors/OutOfRangePinException.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace nts::Gates
///////////////////////////////////////////////////////////////////////////////
namespace nts::Gates
{

///////////////////////////////////////////////////////////////////////////////
Nor::Nor(const std::string& name)
    : AComponent(name, 3)
{
    m_pins[0] = Pin(Pin::Type::INPUT);
    m_pins[1] = Pin(Pin::Type::INPUT);
    m_pins[2] = Pin(Pin::Type::OUTPUT);
}

///////////////////////////////////////////////////////////////////////////////
Tristate Nor::compute(size_t pin)
{
    if (pin >= m_pins.size())
        throw OutOfRangePinException();
    if (pin == 2)
        return (~(getInputState(0) | getInputState(1)));
    return (getInputState(pin));
}

} // namespace nts::Gates
